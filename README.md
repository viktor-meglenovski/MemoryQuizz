# Проектна задача по предметот Визуелно Програмирање:

# КВИЗ МЕМОРИЈА

## Учесници: 
## Христина Митева 191007
## Виктор Мегленовски 191001

### 1.Опис на апликацијата

Целта на нашата игра е да се стимулира запомнувањето на голем број информации во краток временски период. Како што кажува и самото име на играта, се работи за игра-квиз поврзан со меморија.

При стартот на играта, се отвора форма `Menu` која содржи четири копчиња преку кои се започнува играта (Start), се отвора форма со инструкции за како се игра играта (Instructions), се отвора форма со 10те најдобри поени (Score Board), и на крај се прекинува апликацијата (Exit).

![Главното Мени на играта](https://github.com/viktor-meglenovski/MemoryQuizz/blob/5517351094f6350873429739ccf4b1af03dae92e/Screenshots%20for%20documentation/1.jpg)

![Инструкции](https://github.com/viktor-meglenovski/MemoryQuizz/blob/5517351094f6350873429739ccf4b1af03dae92e/Screenshots%20for%20documentation/3.JPG)

При клик на `Start`, се отвора нова форма на која играчот треба да одбери една од трите тежини на играта (Easy, Normal, Hard), по што започнува самото дејство на играта.

![Избирање на тежина](https://github.com/viktor-meglenovski/MemoryQuizz/blob/5517351094f6350873429739ccf4b1af03dae92e/Screenshots%20for%20documentation/2.jpg)

Најпрво, играчот има `5 секунди` време да се припреми и сконцентрира. Потоа, на случаен начин се генерираат случаен број на форми (кругови, квадрати и триаголници) во различни бои (црвена, сина и зелена) и различни големини (мали, средни и големи). Играчот има `15 секунди` да меморира што е можно повеќе информации во врска со формите, потоа формите исчезнуваат и корисникот има нови `30 секунди` да одговори на `5 прашања` во врска со формите што му биле прикажани претходно.

![Исцртувањето на формите](https://github.com/viktor-meglenovski/MemoryQuizz/blob/5517351094f6350873429739ccf4b1af03dae92e/Screenshots%20for%20documentation/4.jpg)

Тежината на прашањата како и бројот на поени кој секој точен одговор ги носи зависат од изборот на тежината на играта.

Откако играчот ќе заврши со одговарање на прашањата, или пак предвиденото време за одговарање поминало, формата се предефинира за да прикажи неколку информации во врска со играта на играчот.

![Одговарањето на прашањата](https://github.com/viktor-meglenovski/MemoryQuizz/blob/5517351094f6350873429739ccf4b1af03dae92e/Screenshots%20for%20documentation/5.jpg)

На следната слика може да се забележи дека за секое прашање има соодветна сликичка која кажува дали прашањето било одговорено точно или неточно, или пак не било воопшто одговорено. Исто така прикажани се и крајните поени кои играчот ги добил. При клик на копчето `See the image again` играчот може повторно да ги види формите кои му биле прикажани и да се осигура во точноста на одговорите. За крај, играчот можи да го внеси своето име во соодветното поле за текст и со клик на копчето `Add to Score Board` да ги зачува своите поени во системот, при при што на играчот му се прикажува табелата со најдобрите 10 поени. Од таа форма, со клик на копчето `Back`, играчот може да се врати на главното мени од каде му се достапни сите функционалности исто како при самиот старт на играта.

![Извештајот после играта](https://github.com/viktor-meglenovski/MemoryQuizz/blob/5517351094f6350873429739ccf4b1af03dae92e/Screenshots%20for%20documentation/6.jpg)

### 2.Опис на поважните структури на апликацијата

Самата апликација е составена од  неколку форми (Мени, Инструкции, Табела со бодови, Избирање на тежина како и главната форма каде се одвива дејството на играта) и околу 10 податочни класи. Во продолжение накратко ќе ги објасниме поважните форми, класи и функции кои се сржта на оваа апликација:

#### 2.1	Формата на главната игра

Оваа форма е најважната компонента од целата игра: во неа се одвива целото дејствие на играта, содржи голем број на атрибути како и покомплексни функции.

Некои од поважните атрибути се инстаци од формата `Menu` и класата `Scene`, потоа листа од објекти од класата `Question`, тежина на игра и неколку помошни променливи. Формата содржи голем број на компоненти: 2 главни панели (за прашањата и за краткиот извештај), неколку тајмери (за синхронизирање на сите временски одбројувања), лабели, копчиња и слики.

При стартување на оваа форма, најрпво се активира тајмер кој одбројува `5 секунди` (времето за подготовка), после тоа, се повикува методот `generate()` од класата `Scene`, со што се генерираат самите форми (алгоритамот е опишан во продолжение), се генерираат `5 прашања` и се пресметува кои се точните одговори на тие прашања. После `15 секунди`, објектот од главната сцена се зачувува во помошна променлива со цел да се тргнат исцртаните форми и да се започне со одговарање на прашањата.

Методот `generateQuestionsAndAnswers()` е задолжен за генерирање на прашања и соодветни одговори. Формите се карактеризираат со тип, боја и големина. Сите 3 тежини на играта имаат различни типови на прашања: лесните прашања вклучуваат само 1 од 3те атрибути на формите `(пр. „Колку КРУГОВИ видовте на сликата?“, „Колку ЗЕЛЕНИ ФОРМИ видовте на сликата?“)`, средно тешките прашања вклучуваат 2 од 3те атрибути на формите `(пр. „Колку ЦРВЕНИ ТРИАГОЛНИЦИ видовте на сликата?“, „Колку МАЛИ КВАДРАТИ видовте на сликата?“)`, и тешките прашања ги вклучуваат сите 3 атрибути `(пр. „Колку ГОЛЕМИ СИНИ КРУГОВИ видовте на сликата?“)`. Исто така важно е да се напомене дека секоја со секоја тежина се генерираат произволен број на форми во опсегот 5-10 (Easy), 10-20 (Normal), 20-30 (Hard), и во секоја тежина прашањата носат различен број на поени: 50, 100 и 150 соодветно.

За секое прашање на почеток одговорот се смета дека е 0, потоа преку вгнездени циклуси се изминуваат сите форми и сите прашања и соодветно се инкрементираат одговорите на прашањата ако формите ги задоволуваат условите на прашањата. Кај лесните прашања се проверува дали прашањето содржи било кој од трите атрибути на формата, кај средно тешките прашања се проверува дали прашањето ги содржи точно двете наведени атрибути на формата, додека пак кај тешките прашања се проверува дали прашањето ги содржи сите три атрибути наведени на формата.

При одговарање на прашањата, играчот има `30 секунди` на располагање. На почетокот, сите прашања се водат како неодговорени, при внес на одговор, прашањето преминува во состојба точно одговорено или неточно одговорено, во зависност дали корисникот дал точен или неточен одговор. Со клик на копчето Next Question се преминува на следното прашање (ако сме веќе на последното прашање, се повикува методот `gameOver()`).

При повик на `gameOver()`, тајмерите се стопираат, и за секое од петте прашања се проверува неговата состојба и соодветно се поставува сликичка (точно, неточно, неодговорено), се пресметуваат крајните поени како: 

`Поени од прашања + (Преостанато Време * Поени од прашања /10)`. Поените се зачувуваат во инстанца од `ScoreBoardStructure` класата, во листа од `ScoreEntry` објекти како парови `име – поени`.

#### 2.2	Класата RandomShapeGenerator()

Оваа класа е задолжена за самото генерирање на формите. Главен метод е методот `generateShapes()` кој враќа `List<Shape>`. Во овој метод, најпрво се избира колку форми ќе се генерираат (на случаен начин, во зависност од одбраната тежина), а потоа со циклус, на случаен начин се бира центарот, типот, бојата и големината на формата при што се проверува дали оваа форма се преклопува со некои од претходно генерираните форми. Во таков случај, новата форма се отфрла и бројачот во циклусот се намалува за 1.

Поради едноставност на имплементацијата – за сите три типа на форми, детекцијата на преклопувањето со други форми е иста: секоја форма си има свој `Rectangle` објект кој е опишан околу самата форма и притоа за 2 форми велиме дека се сечат, ако центарот на едната форма е во опсегот на правоаголникот на другата форма.

#### 2.3 Систем за зачувување на поени

При секое стартување на апликацијата, серијализираниот фајл во кој има инстанца од `ScoreBoardStructure` класата се десеријализира, и при секое исклучување на апликацијата, ако тој објект претрпил некакви промени, одново се серијализира и се зачувува на истата локација, со што се пребришува старата верзија на фајлот.

При секој пристап до формата `Score Board`, се земаат сите податоци за внесените поени, се сортираат во опаѓачки редослед според бројот на поени, и првите 10 се прикажуваат во соодветната табела.

![Формата со најдобрите 10 поени](https://github.com/viktor-meglenovski/MemoryQuizz/blob/5517351094f6350873429739ccf4b1af03dae92e/Screenshots%20for%20documentation/7.png)

#### 2.3	Слики, графика и аудио ефекти

За да се добие изглед и амбиент на игра а не на Windows Forms апликација, подготвивме едноставни позадини и копчиња, поставивме поатрактивен фонт низ целата апликација, на самите форми ги отстранивме статусните ленти и ги заклучивме нивните позиции во центарот на екранот.

За резултатот да биде уште поинтересен, додадовме и неколку едноставни аудио ефекти: при клик на било која форма, на било која позиција, при внесување на точен одговор, при внесување на грешен одговор, при завршување на самата игра (пред да се прикаже краткиот извештај со поените), како и при секој повик на tick методите на тајмерите.

### 3. Користена литература и други извори

Во текот на имплементацијата на проектот главно се служевме со примерите и задачите кои што сме ги обработувале на аудиториските вежби по предметот Визуелно програмирање. Секако, кога ќе наидевме до одредени проблеми, покрај заедничката дискусија за тоа како да го решиме проблемот, одговори баравме и на Интернет, особено на добро познатиот веб сајт [Stack Overflow](https://stackoverflow.com).

